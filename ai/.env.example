# AI Service Environment Variables

# NestJS Backend Configuration
NEST_BACKEND_URL=http://localhost:3000
NEST_API_KEY=your_api_key_here

# Blockchain Configuration (Read-Only)
BLOCKCHAIN_RPC_URL=http://localhost:8545
BLOCKCHAIN_API_URL=http://localhost:3001/blockchain
CONTRACT_ADDRESS=0x...

# Application Settings
LOG_LEVEL=INFO
ENVIRONMENT=development

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Database (Conversation History)
DATABASE_URL=sqlite+aiosqlite:///./conversations.db

# ML Models
MODEL_PATH=./app/models
ENABLE_ML_MODELS=true

# Security
JWT_SECRET=your_jwt_secret_here
API_KEY=your_internal_api_key_here

# Feature Flags
ENABLE_BLOCKCHAIN_INTEGRATION=true
ENABLE_EXPLAINABILITY=true
ENABLE_PROACTIVE_ALERTS=true

# Performance
MAX_WORKERS=4
REQUEST_TIMEOUT=30
CACHE_TTL=300

# ============================================================================
# Speech-to-Text (STT) - Algerian Darija Support
# ============================================================================

# Enable STT (set to false to disable)
STT_ENABLED=true

# Provider: local_whisper | external_api
STT_PROVIDER=local_whisper

# Local Whisper Configuration
# Model sizes: tiny | base | small | medium | large-v3
# Recommended: medium for best Darija support
STT_MODEL_SIZE=medium

# Device: cpu | cuda (use cuda if GPU available for 10x speed)
STT_DEVICE=cpu

# Compute type: int8 | float16 | float32 (int8 recommended for CPU)
STT_COMPUTE_TYPE=int8

# Model path (leave empty to use default cache)
STT_MODEL_PATH=

# Audio constraints
STT_MAX_AUDIO_MB=15
STT_TIMEOUT=30.0

# External API Settings (if STT_PROVIDER=external_api)
# STT_SERVICE_URL=http://localhost:9000
# STT_TRANSCRIBE_PATH=/transcribe
# STT_API_KEY=your-api-key-here

# MVP Mode for Testing (set to true to use dummy text)
# STT_MVP_MODE=false
# STT_MVP_DUMMY_TEXT=kayen blassa ghedwa fel terminal A?

# ============================================================================
# LangChain LLM Orchestration (Optional)
# ============================================================================

# Enable LangChain-based orchestration (set to false to use deterministic only)
LANGCHAIN_ENABLED=true

# Google AI Studio API Key (required if LangChain enabled)
# Get your key at: https://aistudio.google.com/apikey
GOOGLE_API_KEY=your-google-api-key-here

# Gemini Model (gemini-1.5-pro recommended, or gemini-1.5-flash for speed)
GEMINI_MODEL=gemini-1.5-pro

# LLM Configuration
LLM_TEMPERATURE=0.2
LLM_MAX_OUTPUT_TOKENS=1024
LLM_TIMEOUT_SECONDS=20

# Tool Calling
TOOL_CALL_MAX_STEPS=4

# Intent Classification
INTENT_CONFIDENCE_THRESHOLD=0.55

# Debug Mode (set to true for verbose LangChain logs)
LLM_DEBUG=false
